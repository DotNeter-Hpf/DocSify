
## ç”¨åˆ°çš„è¡¨ç»“æ„ã€æ•°æ®ã€å®ä½“ç±»
æ–¹ä¾¿æµ‹è¯•Demo

### Student

```sql
DROP TABLE IF EXISTS `student`;
CREATE TABLE `student`  (
  `StudentId` int(11) NOT NULL AUTO_INCREMENT,
  `Name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `SchoolId` int(11) NOT NULL,
  PRIMARY KEY (`StudentId`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 13 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Compact;

INSERT INTO `student` VALUES (1, 'Zzr', 1);
INSERT INTO `student` VALUES (2, 'Ls', 2);
INSERT INTO `student` VALUES (3, 'Wem', 3);
INSERT INTO `student` VALUES (4, 'Hpf', 4);
INSERT INTO `student` VALUES (5, 'Zzr', 5);
INSERT INTO `student` VALUES (6, 'hpf', 2);
INSERT INTO `student` VALUES (7, 'hpf', 2);
INSERT INTO `student` VALUES (9, 'hpf', 2);
INSERT INTO `student` VALUES (11, 'qwe', 0);
INSERT INTO `student` VALUES (12, 'qwe', 0);
```

```csharp
public class Student
    {
        [SugarColumn(IsPrimaryKey = true, IsIdentity = true)]
        public int StudentId { get; set; }
        public string Name { get; set; }
        public int SchoolId { get; set; }

        [Navigate(NavigateType.OneToOne, nameof(SchoolId))]//ä¸€å¯¹ä¸€ SchoolIdæ˜¯Studentç±»é‡Œé¢çš„
        public School School { get; set; } //ä¸èƒ½èµ‹å€¼
    }
```

### School
```sql
CREATE TABLE `school`  (
  `SchoolId` int(11) NOT NULL AUTO_INCREMENT,
  `SchoolName` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  PRIMARY KEY (`SchoolId`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Compact;

INSERT INTO `school` VALUES (1, 'ä¸€ä¸­');
INSERT INTO `school` VALUES (2, 'äºŒä¸­');
INSERT INTO `school` VALUES (3, 'ä¸‰ä¸­');
INSERT INTO `school` VALUES (4, 'å››ä¸­');
INSERT INTO `school` VALUES (5, 'äº”ä¸­');
```


```csharp
public class School
    {
        [SugarColumn(IsPrimaryKey = true, IsIdentity = true)]
        public int SchoolId { get; set; }
        public string SchoolName { get; set; }
    }
```

## 1.å•è¡¨åˆ†é¡µæŸ¥è¯¢
```csharp
int pageNumber = 1;//ç¬¬å‡ é¡µï¼ˆå¯éšæ„ä¿®æ”¹æŸ¥çœ‹ç»“æœï¼‰
int pageSize = 2;//æ¯é¡µå¤šå°‘æ•°æ®
int totalNumber = 0;//æ€»æ•°æ®
List<Student> list = db.Queryable<Student>().ToPageList(pageNumber, pageSize, ref totalNumber);

//SELECT `StudentId`,`Name`,`SchoolId` FROM `Student`     LIMIT 0,2
```


## 2.å¼‚æ­¥å•è¡¨åˆ†é¡µæŸ¥è¯¢
```csharp
int pageNumber = 1;//ç¬¬å‡ é¡µ
int pageSize = 2;//æ¯é¡µå¤šå°‘æ•°æ®
RefAsync<int> totalNumber = 0;//æ€»æ•°æ®
List<Student> list = await db.Queryable<Student>().ToPageListAsync(pageNumber, pageSize, totalNumber);

//SELECT `StudentId`,`Name`,`SchoolId` FROM `Student`Â Â Â Â  LIMIT 0,2
```

## 3.å¤šè¡¨åˆ†é¡µæŸ¥è¯¢
```csharp
int pageNumber = 1;//ç¬¬å‡ é¡µ
int pageSize = 2;//æ¯é¡µå¤šå°‘æ•°æ®
int totalNumber = 0;//æ€»æ•°æ®

var cs = db.Queryable<Student, School>((st, sc) => new JoinQueryInfos(JoinType.Left, st.SchoolId == sc.SchoolId))
                .Select((st, sc) => new { Id = st.SchoolId, StudentName = st.Name, SchoolName = sc.SchoolName })
                .ToPageList(pageNumber, pageSize,ref totalNumber);

//SELECTÂ  `st`.`SchoolId` AS `Id` , `st`.`Name` AS `StudentName` , `sc`.`SchoolName` AS `SchoolName`Â  FROM `Student` st Left JOIN `School` sc ON ( `st`.`SchoolId` = `sc`.`SchoolId` )Â Â Â Â Â  LIMIT 0,2
```

## 4.å¼‚æ­¥å¤šè¡¨åˆ†é¡µæŸ¥è¯¢
```csharp
int pageNumber = 1;//ç¬¬å‡ é¡µ
int pageSize = 2;//æ¯é¡µå¤šå°‘æ•°æ®
RefAsync<int> totalNumber = 0;//æ€»æ•°æ®

var cs =await db.Queryable<Student, School>((st, sc) => new JoinQueryInfos(JoinType.Left, st.SchoolId == sc.SchoolId))
                .Select((st, sc) => new { Id = st.SchoolId, StudentName = st.Name, SchoolName = sc.SchoolName })
                .ToPageListAsync(pageNumber, pageSize, totalNumber);

//SELECT `st`.`SchoolId` AS `Id` , `st`.`Name` AS `StudentName` , `sc`.`SchoolName` AS `SchoolName`Â  FROM `Student` st Left JOIN `School` sc ON ( st`.`SchoolId` = `sc`.`SchoolId` ) LIMIT 0,2
```

## 5.åŸå§‹åˆ†é¡µSqlè¯­å¥
```sql
SELECT * FROM 
            (SELECT [ID],[SchoolId],[Name],[CreateTime],ROW_NUMBER() 
             OVER(ORDER BY GetDate())AS RowIndex FROM [STudent]) T
WHERE RowIndex BETWEEN 1 AND 20
```

## 6.SqlSever2012åˆ†é¡µ
`5.0.3.2ä»¥ä¸Šçš„ç‰ˆæœ¬æ”¯æŒ`
```csharp
æŠŠ  ToPageList æ¢æˆ  ToOffsetPage
```


[ğŸ“„æ–‡æ¡£å‚è€ƒï¼šåˆ†é¡µæŸ¥è¯¢](https://www.donet5.com/Home/Doc?typeId=2242)


<div id="NavigateDiv">
<table style="border:none;">
    <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink);font-size:18px;" > ç›®å½•å¯¼èˆª </a></td>
    </tr>
    <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=ç”¨åˆ°çš„è¡¨ç»“æ„ã€æ•°æ®ã€å®ä½“ç±»" > ç”¨åˆ°çš„è¡¨ç»“æ„ã€æ•°æ®ã€å®ä½“ç±» </a></td>
    </tr>
    <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=student" > &emsp;Student </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=school" > &emsp;School </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_1å•è¡¨åˆ†é¡µæŸ¥è¯¢" > 1.å•è¡¨åˆ†é¡µæŸ¥è¯¢ </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_2å¼‚æ­¥å•è¡¨åˆ†é¡µæŸ¥è¯¢" > 2.å¼‚æ­¥å•è¡¨åˆ†é¡µæŸ¥è¯¢ </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_3å¤šè¡¨åˆ†é¡µæŸ¥è¯¢" >  3.å¤šè¡¨åˆ†é¡µæŸ¥è¯¢ </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_4å¼‚æ­¥å¤šè¡¨åˆ†é¡µæŸ¥è¯¢" > 4.å¼‚æ­¥å¤šè¡¨åˆ†é¡µæŸ¥è¯¢ </a></td>
    </tr>
     </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_5åŸå§‹åˆ†é¡µsqlè¯­å¥" > 5.åŸå§‹åˆ†é¡µsqlè¯­å¥ </a></td>
    </tr>
     <tr style="border:none;">
    <td style="border:none;width:300px"><a style="color:var(--sidebarSublink)" href="/#/SqlSugar/æ•°æ®æŸ¥è¯¢/åˆ†é¡µæŸ¥è¯¢?id=_6sqlsever2012åˆ†é¡µ" > 6.sqlsever2012åˆ†é¡µ </a></td>
    </tr>
     </tr>
</table>
</div>